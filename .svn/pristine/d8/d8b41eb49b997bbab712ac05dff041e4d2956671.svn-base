package com.wolfking.jeesite.modules.utils;

import lombok.extern.slf4j.Slf4j;

import java.io.*;
import java.net.URL;

/**
 * @Auther wj
 * @Date 2021/3/16 10:11
 */

@Slf4j
public class HtmlUtils {

    /**
     * 字符流
     * @return
     */
    public static String getHtmlString() {
        URL url = HtmlUtils.class.getClassLoader().getResource("papers/mutualFund.html");
        StringBuffer sb = new StringBuffer();
        BufferedInputStream bis = null;
        try {
            File f = new File(url.toURI());
            FileInputStream fis = new FileInputStream(f);
            bis = new BufferedInputStream(fis);
            BufferedReader br = new BufferedReader(new InputStreamReader(fis));
            String s = "";
            while ((s = br.readLine()) != null) {
                sb.append(s);
            }
        } catch (Exception e) {
            e.getMessage();
        } finally {
            if (bis != null) {
                try {
                    bis.close();
                } catch (IOException e) {
                    e.getMessage();
                }
            }
        }
        return sb.toString();
    }


    //字节流
    public String getHtml() {
        URL url = this.getClass().getClassLoader().getResource("papers/mutualFund.html");
        StringBuffer sb = new StringBuffer();
        BufferedInputStream bis = null;
        try {
            File f = new File(url.toURI());
            FileInputStream fis = new FileInputStream(f);
            bis = new BufferedInputStream(fis);
            int len = 0;
            byte[] temp = new byte[1024];
            while ((len = bis.read(temp)) != -1) {
                sb.append(new String(temp, 0, len));
            }
        } catch (Exception e) {
            e.getMessage();
        } finally {
            if (bis != null) {
                try {
                    bis.close();
                } catch (IOException e) {
                    e.getMessage();
                }
            }
        }
        return sb.toString();
    }


    public static void main(String[] args) {

       System.out.println(HtmlUtils.getHtmlString());

    }
}
